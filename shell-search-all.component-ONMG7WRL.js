import{a as S,c as T}from"./chunk-AFRIS6YC.js";import{a as b,b as _}from"./chunk-2VMXMS7J.js";import{inject as ye,signal as Ce}from"@angular/core";import{EventEmitter as L,input as U,signal as E,computed as B}from"@angular/core";import{CommonModule as z}from"@angular/common";import*as a from"@angular/core";import*as w from"@angular/common";var V=(e,s,t,n)=>({"mfe-search-font-medium":e,"max-sm:mfe-search-bg-green-700":s,"max-sm:hover:mfe-search-bg-green-900":t,"max-sm:mfe-search-text-white":n}),H=(e,s,t,n)=>({"mfe-search-font-medium":e,"max-sm:hover:mfe-search-bg-green-900":s,"max-sm:mfe-search-text-white":t,"max-sm:mfe-search-bg-green-700":n}),O=(e,s)=>s.title;function G(e,s){if(e&1){let t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275listener("click",function(){let i=a.\u0275\u0275restoreView(t).$implicit,x=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(x.selectMain(i.value))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(e&2){let t=s.$implicit,n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction4(2,V,n.mainActive()===t.value,n.mainActive()===t.value,n.mainActive()===t.value,n.mainActive()===t.value)),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",t.label," ")}}function q(e,s){if(e&1){let t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275listener("click",function(){let i=a.\u0275\u0275restoreView(t).$implicit,x=a.\u0275\u0275nextContext().$implicit,u=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(u.toggleItem(x.title.value,i.value))}),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()}if(e&2){let t=s.$implicit,n=a.\u0275\u0275nextContext().$implicit,i=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction4(2,H,i.isActive(n.title.value,t.value),i.isActive(n.title.value,t.value),i.isActive(n.title.value,t.value),i.isActive(n.title.value,t.value))),a.\u0275\u0275advance(),a.\u0275\u0275textInterpolate1(" ",t.label," ")}}function J(e,s){if(e&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275repeaterCreate(3,q,2,7,"div",2,a.\u0275\u0275repeaterTrackByIdentity),a.\u0275\u0275elementEnd()),e&2){let t=s.$implicit;a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.title.label),a.\u0275\u0275advance(),a.\u0275\u0275repeater(t.items)}}var M=(()=>{class e{sections=U([]);filterChange=new L;mainActive=E("people");activeSub=E({});get mainSection(){return this.sections()[0]??{title:{value:"main",label:"On this page"},items:[]}}filteredSections=B(()=>this.sections().filter(t=>t.title.value===this.mainActive()));selectMain(t){this.mainActive.set(t),this.filterChange.emit({section:t,selected:[]})}toggleItem(t,n){let i=this.activeSub()[t]??[],u=i.includes(n)?i.filter(j=>j!==n):[...i,n];this.activeSub.set(_(b({},this.activeSub()),{[t]:u})),this.filterChange.emit({section:t,selected:u})}isActive(t,n){return this.activeSub()[t]?.includes(n)??!1}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-sidebar"]],hostAttrs:[1,"mfe-search-w-full","mfe-search-block","sm:mfe-search-col-span-1","mfe-search-space-y-6","max-sm:mfe-search-rounded-lg","max-sm:mfe-search-space-y-2","max-sm:mfe-search-bg-white","max-sm:mfe-search-p-2"],inputs:{sections:[1,"sections"]},outputs:{filterChange:"filterChange"},decls:7,vars:1,consts:[[1,"mfe-search-bg-white","mfe-search-border","mfe-search-border-gray-200","mfe-search-rounded-lg","mfe-search-p-4","max-sm:mfe-search-bg-transparent","max-sm:mfe-search-border-0","max-sm:mfe-search-p-0","max-sm:mfe-search-flex","max-sm:mfe-search-flex-wrap","max-sm:mfe-search-gap-2"],[1,"mfe-search-text-sm","mfe-search-font-semibold","mfe-search-text-gray-900","mfe-search-mb-3","max-sm:mfe-search-hidden"],[1,"mfe-search-text-sm","mfe-search-text-gray-600","mfe-search-py-1","mfe-search-px-2","mfe-search-cursor-pointer","hover:mfe-search-bg-gray-50","mfe-search-rounded","max-sm:mfe-search-rounded-3xl","max-sm:mfe-search-border","max-sm:mfe-search-border-gray-200","max-sm:mfe-search-p-2","max-sm:mfe-search-px-4",3,"ngClass"],[1,"mfe-search-text-sm","mfe-search-text-gray-600","mfe-search-py-1","mfe-search-px-2","mfe-search-cursor-pointer","hover:mfe-search-bg-gray-50","mfe-search-rounded","max-sm:mfe-search-rounded-3xl","max-sm:mfe-search-border","max-sm:mfe-search-border-gray-200","max-sm:mfe-search-p-2","max-sm:mfe-search-px-4",3,"click","ngClass"]],template:function(n,i){n&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275repeaterCreate(3,G,2,7,"div",2,a.\u0275\u0275repeaterTrackByIdentity),a.\u0275\u0275elementEnd(),a.\u0275\u0275repeaterCreate(5,J,5,1,"div",0,O)),n&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(i.mainSection.title.label),a.\u0275\u0275advance(),a.\u0275\u0275repeater(i.mainSection.items),a.\u0275\u0275advance(2),a.\u0275\u0275repeater(i.filteredSections()))},dependencies:[z,w.NgClass],encapsulation:2})}return e})();import{input as C}from"@angular/core";import{input as ee}from"@angular/core";import"@angular/core";import{RouterLink as K}from"@angular/router";import*as o from"@angular/core";var Q=e=>["/lk",e];function W(e,s){if(e&1&&(o.\u0275\u0275elementStart(0,"p",6),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),e&2){let t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(),o.\u0275\u0275textInterpolate(t.people.headline)}}function X(e,s){if(e&1&&(o.\u0275\u0275elementStart(0,"p",7),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),e&2){let t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(),o.\u0275\u0275textInterpolate(t.people.address)}}var F=(()=>{class e{people;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-person-card"]],inputs:{people:"people"},decls:11,vars:7,consts:[[1,"hover:mfe-search-bg-gray-50","mfe-search-cursor-pointer","mfe-search-flex","mfe-search-items-center","mfe-search-justify-between","mfe-search-py-4","mfe-search-px-2","mfe-search-border-b","mfe-search-border-gray-100","last:mfe-search-border-b-0",3,"routerLink"],[1,"mfe-search-flex","mfe-search-space-x-3"],[1,"mfe-search-w-16","mfe-search-h-16","mfe-search-rounded-full","mfe-search-flex","mfe-search-items-center","mfe-search-justify-center","mfe-search-overflow-hidden"],["alt","",1,"mfe-search-text-white","mfe-search-font-semibold","mfe-search-text-sm",3,"src"],[1,"mfe-search-flex-1"],[1,"mfe-search-text-lg","mfe-search-font-semibold","mfe-search-text-gray-900"],[1,"mfe-search-text-sm","mfe-search-text-gray-600"],[1,"mfe-search-text-sm","mfe-search-text-gray-500"],[1,"mfe-search-px-4","mfe-search-py-2","mfe-search-border","mfe-search-border-gray-400","mfe-search-text-gray-700","mfe-search-rounded-full","hover:mfe-search-bg-gray-50","mfe-search-text-sm","mfe-search-font-medium","mfe-search-hidden"]],template:function(n,i){n&1&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),o.\u0275\u0275element(3,"img",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",4)(5,"h3",5),o.\u0275\u0275text(6),o.\u0275\u0275elementEnd(),o.\u0275\u0275conditionalCreate(7,W,2,1,"p",6),o.\u0275\u0275conditionalCreate(8,X,2,1,"p",7),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(9,"button",8),o.\u0275\u0275text(10,"Message"),o.\u0275\u0275elementEnd()()),n&2&&(o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(5,Q,i.people.username)),o.\u0275\u0275advance(3),o.\u0275\u0275property("src",i.people.avatar,o.\u0275\u0275sanitizeUrl),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(i.people.name),o.\u0275\u0275advance(),o.\u0275\u0275conditional(i.people.headline?7:-1),o.\u0275\u0275advance(),o.\u0275\u0275conditional(i.people.address?8:-1))},dependencies:[K],encapsulation:2})}return e})();import"@angular/core";import*as d from"@angular/core";var v=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-not-found"]],decls:7,vars:0,consts:[[1,"mfe-search-w-full","mfe-search-h-1/2","mfe-search-px-4","mfe-search-py-8","mfe-search-text-center","mfe-search-text-gray-500","mfe-search-text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mfe-search-w-12","mfe-search-h-12","mfe-search-mx-auto","mfe-search-mb-2","mfe-search-text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mfe-search-font-medium"],[1,"mfe-search-text-xs","mfe-search-mt-1"]],template:function(n,i){n&1&&(d.\u0275\u0275domElementStart(0,"div",0),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275domElementStart(1,"svg",1),d.\u0275\u0275domElement(2,"path",2),d.\u0275\u0275domElementEnd(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275domElementStart(3,"p",3),d.\u0275\u0275text(4,"No result found"),d.\u0275\u0275domElementEnd(),d.\u0275\u0275domElementStart(5,"p",4),d.\u0275\u0275text(6,"Try adjusting your search"),d.\u0275\u0275domElementEnd()())},encapsulation:2})}return e})();import"@angular/core";import*as l from"@angular/core";var Y=()=>[1,2,3,4];function Z(e,s){e&1&&(l.\u0275\u0275domElementStart(0,"div",0)(1,"div",1),l.\u0275\u0275domElement(2,"div",2),l.\u0275\u0275domElementStart(3,"div",3),l.\u0275\u0275domElement(4,"div",4)(5,"div",4)(6,"div",4),l.\u0275\u0275domElementEnd()()()),e&2&&(l.\u0275\u0275advance(4),l.\u0275\u0275styleProp("--w","50%"),l.\u0275\u0275advance(),l.\u0275\u0275styleProp("--w","70%"),l.\u0275\u0275advance(),l.\u0275\u0275styleProp("--w","90%"))}var g=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-loading"]],hostAttrs:[1,"mfe-search-w-full","mfe-search-flex","mfe-search-flex-col"],decls:2,vars:1,consts:[[1,"mfe-search-mx-auto","mfe-search-w-full","mfe-search-rounded-md","mfe-search-p-4"],[1,"mfe-search-flex","mfe-search-animate-pulse","mfe-search-space-x-4","mfe-search-items-center"],[1,"mfe-search-size-20","mfe-search-rounded-full","mfe-search-bg-gray-200"],[1,"mfe-search-flex-1","mfe-search-space-y-4","mfe-search-py-1"],[1,"mfe-search-w-[--w]","mfe-search-h-2","mfe-search-rounded","mfe-search-bg-gray-200"]],template:function(n,i){n&1&&l.\u0275\u0275repeaterCreate(0,Z,7,6,"div",0,l.\u0275\u0275repeaterTrackByIndex),n&2&&l.\u0275\u0275repeater(l.\u0275\u0275pureFunction0(0,Y))},encapsulation:2})}return e})();import{input as D}from"@angular/core";import*as p from"@angular/core";var y=(()=>{class e{title=D("Ready to explore!");message=D("Start searching to discover amazing companies");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-empty-state"]],hostAttrs:[1,"mfe-search-text-center","mfe-search-py-8"],inputs:{title:[1,"title"],message:[1,"message"]},decls:7,vars:2,consts:[[1,"mfe-search-flex","mfe-search-justify-center","mfe-search-mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mfe-search-w-12","mfe-search-h-12","mfe-search-text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mfe-search-text-lg","mfe-search-font-medium","mfe-search-text-gray-900","mfe-search-mb-2"],[1,"mfe-search-text-gray-500"]],template:function(n,i){n&1&&(p.\u0275\u0275domElementStart(0,"div",0),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275domElementStart(1,"svg",1),p.\u0275\u0275domElement(2,"path",2),p.\u0275\u0275domElementEnd()(),p.\u0275\u0275namespaceHTML(),p.\u0275\u0275domElementStart(3,"h3",3),p.\u0275\u0275text(4),p.\u0275\u0275domElementEnd(),p.\u0275\u0275domElementStart(5,"p",4),p.\u0275\u0275text(6),p.\u0275\u0275domElementEnd()),n&2&&(p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(i.title()),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(i.message()))},encapsulation:2})}return e})();import*as m from"@angular/core";function te(e,s){e&1&&m.\u0275\u0275element(0,"mfe-search-empty-state",1)}function ne(e,s){e&1&&m.\u0275\u0275element(0,"mfe-search-loading")}function ae(e,s){if(e&1&&m.\u0275\u0275element(0,"mfe-search-person-card",2),e&2){let t=s.$implicit;m.\u0275\u0275property("people",t)}}function ie(e,s){if(e&1&&m.\u0275\u0275repeaterCreate(0,ae,1,1,"mfe-search-person-card",2,m.\u0275\u0275repeaterTrackByIdentity),e&2){let t=m.\u0275\u0275nextContext();m.\u0275\u0275repeater(t.peoples())}}function oe(e,s){e&1&&m.\u0275\u0275element(0,"mfe-search-not-found")}var k=(()=>{class e{peoples=ee(null);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-people-results"]],hostAttrs:[1,"mfe-search-block","mfe-search-bg-white","mfe-search-border","mfe-search-border-gray-200","mfe-search-rounded-lg","mfe-search-p-6"],inputs:{peoples:[1,"peoples"]},decls:6,vars:1,consts:[[1,"mfe-search-text-xl","mfe-search-font-semibold","mfe-search-text-gray-900","mfe-search-mb-4"],["title","Ready to search","message","Enter a user name or keyword to begin your search"],[3,"people"]],template:function(n,i){n&1&&(m.\u0275\u0275elementStart(0,"h2",0),m.\u0275\u0275text(1,"People"),m.\u0275\u0275elementEnd(),m.\u0275\u0275conditionalCreate(2,te,1,0,"mfe-search-empty-state",1)(3,ne,1,0,"mfe-search-loading")(4,ie,2,0)(5,oe,1,0,"mfe-search-not-found")),n&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275conditional(i.peoples()===null?2:i.peoples()===void 0?3:i.peoples().length>0?4:5))},dependencies:[F,v,g,y],encapsulation:2})}return e})();import{input as le}from"@angular/core";import"@angular/core";import{RouterLink as re}from"@angular/router";import*as r from"@angular/core";var se=e=>["/lk",e];function me(e,s){if(e&1&&(r.\u0275\u0275elementStart(0,"p",6),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate(t.company.headline)}}function ce(e,s){if(e&1&&(r.\u0275\u0275elementStart(0,"p",7),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate(t.company.overview)}}var A=(()=>{class e{company;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-company-card"]],inputs:{company:"company"},decls:11,vars:7,consts:[[1,"hover:mfe-search-bg-gray-50","mfe-search-cursor-pointer","mfe-search-flex","mfe-search-items-center","mfe-search-justify-between","mfe-search-py-4","mfe-search-px-2","mfe-search-border-b","mfe-search-border-gray-100","last:mfe-search-border-b-0",3,"routerLink"],[1,"mfe-search-flex","mfe-search-space-x-3"],[1,"mfe-search-w-16","mfe-search-h-16","mfe-search-rounded-full","mfe-search-flex","mfe-search-items-center","mfe-search-justify-center","mfe-search-overflow-hidden"],["alt","",1,"mfe-search-text-white","mfe-search-font-semibold","mfe-search-text-sm",3,"src"],[1,"mfe-search-flex-1"],[1,"mfe-search-text-lg","mfe-search-font-semibold","mfe-search-text-gray-900"],[1,"mfe-search-text-sm","mfe-search-text-gray-600"],[1,"mfe-search-text-sm","mfe-search-text-gray-500"],[1,"mfe-search-px-4","mfe-search-py-2","mfe-search-border","mfe-search-border-gray-400","mfe-search-text-gray-700","mfe-search-rounded-full","hover:mfe-search-bg-gray-50","mfe-search-text-sm","mfe-search-font-medium","mfe-search-hidden"]],template:function(n,i){n&1&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),r.\u0275\u0275element(3,"img",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",4)(5,"h3",5),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd(),r.\u0275\u0275conditionalCreate(7,me,2,1,"p",6),r.\u0275\u0275conditionalCreate(8,ce,2,1,"p",7),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(9,"button",8),r.\u0275\u0275text(10,"Message"),r.\u0275\u0275elementEnd()()),n&2&&(r.\u0275\u0275property("routerLink",r.\u0275\u0275pureFunction1(5,se,i.company.username)),r.\u0275\u0275advance(3),r.\u0275\u0275property("src",i.company.avatar,r.\u0275\u0275sanitizeUrl),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(i.company.name),r.\u0275\u0275advance(),r.\u0275\u0275conditional(i.company.headline?7:-1),r.\u0275\u0275advance(),r.\u0275\u0275conditional(i.company.overview?8:-1))},dependencies:[re],encapsulation:2})}return e})();import*as c from"@angular/core";function pe(e,s){e&1&&c.\u0275\u0275element(0,"mfe-search-empty-state",1)}function fe(e,s){e&1&&c.\u0275\u0275element(0,"mfe-search-loading")}function de(e,s){if(e&1&&c.\u0275\u0275element(0,"mfe-search-company-card",2),e&2){let t=s.$implicit;c.\u0275\u0275property("company",t)}}function he(e,s){if(e&1&&c.\u0275\u0275repeaterCreate(0,de,1,1,"mfe-search-company-card",2,c.\u0275\u0275repeaterTrackByIndex),e&2){let t=c.\u0275\u0275nextContext();c.\u0275\u0275repeater(t.companies())}}function ue(e,s){e&1&&c.\u0275\u0275element(0,"mfe-search-not-found")}var I=(()=>{class e{companies=le(null);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=c.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-comapny-results"]],hostAttrs:[1,"mfe-search-block","mfe-search-bg-white","mfe-search-border","mfe-search-border-gray-200","mfe-search-rounded-lg","mfe-search-p-6"],inputs:{companies:[1,"companies"]},decls:6,vars:1,consts:[[1,"mfe-search-text-xl","mfe-search-font-semibold","mfe-search-text-gray-900","mfe-search-mb-4"],["title","Ready to search","message","Enter a company name or keyword to begin your search"],[3,"company"]],template:function(n,i){n&1&&(c.\u0275\u0275elementStart(0,"h2",0),c.\u0275\u0275text(1,"Company"),c.\u0275\u0275elementEnd(),c.\u0275\u0275conditionalCreate(2,pe,1,0,"mfe-search-empty-state",1)(3,fe,1,0,"mfe-search-loading")(4,he,2,0)(5,ue,1,0,"mfe-search-not-found")),n&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275conditional(i.companies()===null?2:i.companies()===void 0?3:i.companies().length>0?4:5))},dependencies:[A,v,g,y],encapsulation:2})}return e})();import*as h from"@angular/core";function xe(e,s){if(e&1&&h.\u0275\u0275element(0,"mfe-search-people-results",0),e&2){let t=h.\u0275\u0275nextContext();h.\u0275\u0275property("peoples",t.peoples())}}function ve(e,s){if(e&1&&h.\u0275\u0275element(0,"mfe-search-comapny-results",1),e&2){let t=h.\u0275\u0275nextContext();h.\u0275\u0275property("companies",t.companies())}}var R=(()=>{class e{activeTab=C("");peoples=C(null);companies=C(null);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-results"]],hostAttrs:[1,"sm:mfe-search-col-span-3","mfe-search-space-y-4"],inputs:{activeTab:[1,"activeTab"],peoples:[1,"peoples"],companies:[1,"companies"]},decls:2,vars:2,consts:[[3,"peoples"],[3,"companies"]],template:function(n,i){n&1&&(h.\u0275\u0275conditionalCreate(0,xe,1,1,"mfe-search-people-results",0),h.\u0275\u0275conditionalCreate(1,ve,1,1,"mfe-search-comapny-results",1)),n&2&&(h.\u0275\u0275conditional(i.activeTab()==="people"?0:-1),h.\u0275\u0275advance(),h.\u0275\u0275conditional(i.activeTab()==="company"?1:-1))},dependencies:[k,I],encapsulation:2})}return e})();import{inject as ge,signal as N}from"@angular/core";import*as P from"@angular/core";var $=(()=>{class e{baseUrlUser="http://localhost:8080/mbe-user/api/v1";baseUrlComapny="http://localhost:8083/mbe-company/api/v1";http=ge(T);peoplesSignal=N(null);companiesSignal=N(null);peoples=this.peoplesSignal.asReadonly();companies=this.companiesSignal.asReadonly();loadPeoplesByUserInput({input:t,filters:n}){if(!t.trim()){this.peoplesSignal.set(null);return}this.peoplesSignal.set(void 0),this.http.get(`${this.baseUrlUser}/users/search?in=${t}&fill=${n.join(",")}`).subscribe({next:i=>{this.peoplesSignal.set(i)},error:()=>{this.peoplesSignal.set([])}})}loadCompaniesByUserInput({input:t,filters:n}){if(!t.trim()){this.companiesSignal.set(null);return}this.companiesSignal.set(void 0),this.http.get(`${this.baseUrlComapny}/companies/search?in=${t}&fill=${n.join(",")}`).subscribe({next:i=>{this.companiesSignal.set(i)},error:()=>{this.companiesSignal.set([])}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=P.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();import*as f from"@angular/core";var be=()=>({value:"main",label:"En esta p\xE1gina"}),_e=()=>({value:"people",label:"Personas"}),Se=()=>({value:"company",label:"Compa\xF1\xEDas"}),Te=(e,s)=>[e,s],Ee=(e,s)=>({title:e,items:s}),we=e=>[e],Mt=(()=>{class e{debounceTimer=null;activeTab=Ce({section:"people",selected:[]});searchAllStore=ye($);ngOnInit(){window.addEventListener("mfe-search:domains:all",this.listener)}listener=t=>{let{detail:n}=t,i=n.replace(/<[^>]*>/g,"").trim();this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.search(i)},300)};onFilterChange(t){this.activeTab.set(t)}search(t){this.activeTab().section=="people"?this.searchAllStore.loadPeoplesByUserInput({input:t,filters:this.activeTab().selected}):this.activeTab().section=="company"&&this.searchAllStore.loadCompaniesByUserInput({input:t,filters:this.activeTab().selected})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["mfe-search-all"]],decls:4,vars:15,consts:[["ngxClass","md:mfe-search-pt-[5rem]"],[1,"mfe-search-w-full","mfe-search-mx-auto","mfe-search-px-2","mfe-search-py-6","mfe-search-grid","max-sm:mfe-search-grid-cols-1","mfe-search-grid-cols-4","mfe-search-gap-6"],[3,"filterChange","sections"],[1,"",3,"activeTab","companies","peoples"]],template:function(n,i){n&1&&(f.\u0275\u0275elementStart(0,"mfe-search-section",0)(1,"div",1)(2,"mfe-search-sidebar",2),f.\u0275\u0275listener("filterChange",function(u){return i.onFilterChange(u)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(3,"mfe-search-results",3),f.\u0275\u0275elementEnd()()),n&2&&(f.\u0275\u0275advance(2),f.\u0275\u0275property("sections",f.\u0275\u0275pureFunction1(13,we,f.\u0275\u0275pureFunction2(10,Ee,f.\u0275\u0275pureFunction0(4,be),f.\u0275\u0275pureFunction2(7,Te,f.\u0275\u0275pureFunction0(5,_e),f.\u0275\u0275pureFunction0(6,Se))))),f.\u0275\u0275advance(),f.\u0275\u0275property("activeTab",i.activeTab().section)("companies",i.searchAllStore.companies())("peoples",i.searchAllStore.peoples()))},dependencies:[S,M,R],encapsulation:2})}return e})();export{Mt as SearchAllComponent};
